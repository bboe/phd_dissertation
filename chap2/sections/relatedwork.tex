\section{Related Work}\locallabel{sec:background}

Providing automation for analyzing traditional programs is not a new concept.
Both ASSYST and Marmoset are automated assessment systems that perform
end-to-end, or input/output, type testing of
submissions~\cite{Spacco:2006:EMD:1140124.1140131,
  Jackson:1997:GSP:268084.268210}. Web-CAT performs testing of code using
student written unit tests~\cite{Edwards:2003:RCS:949344.949390}. All of the
aforementioned tools supplement the feedback students receive with code
coverage analysis and feedback from static analysis tools such as FindBugs by
Cole et al.~\cite{Cole:2006:IYS:1176617.1176667}. Douce et al.\ performed a
more detailed analysis of existing automated assessment
systems~\cite{Douce:2005:ATA:1163405.1163409}.  The problem with these existing
systems is that they are not applicable to \sprogram{s}.

Scratch is a block-based programming language from
MIT~\cite{Maloney:2010:SPL:1868358.1868363}.  \sprogram{s} consist of
two-dimensional interactive animations.  Objects, or \emph{sprites}, move on
the screen as a result of either user input or the execution of scripts in a
\sprogram{}.  Sound and video can also be integrated into \sprogram{s}.
Scratch was designed to allow students to learn computer science programming
while employing great creativity in their work.  This creative freedom is one
of the reasons that \sprogram{s} are challenging to analyze.

An additional challenge in Scratch analysis compared to typical programming
language analysis is that \sprogram{s} are developed and run within a graphical
user interface. Rather than producing an easy to analyze text file, independent
segments of code, known as \emph{scripts}, are associated with Scratch
\emph{sprites}, e.g., the Scratch Cat, and tied to a triggering event.  There
is no central \emph{main} point of execution.  Instead, \sprogram{s} might
begin when a parallel set of \emph{scripts} beginning with a \greenflag{} hat
block are triggered.

Little prior work has looked at automated Scratch analysis.  Adams and Webster
describe using scripts and custom modifications to the Squeak source code of
Scratch to perform their quantitative analysis of \sprogram{s} from the
Imaginary Worlds summer camp~\cite{Adams:2012:SLP:2157136.2157319}.
Additionally, Burke and Kafai developed Scrape as a visualization tool to aid
humans in understanding patterns across
\sprogram{s}~\cite{scrape-poster}. Scrape was used to assess \sprogram{s}
produced in a middle school writing
workshop~\cite{Burke:2012:WWY:2157136.2157264}. Scrape is useful in answering
questions such as:
\begin{itemize}
\vspace*{-.025in}
\item How many \sprogram{s} use loops?
\vspace*{-.025in}
\item How  many loops are present in each \sprogram{}?
\vspace*{-.025in}
\item What level of nesting does the \sprogram{} use?
\vspace*{-.025in}
\end{itemize}

Hairball has two purposes --- it quantifies the appearance of computer science
constructs (e.g., loops, conditionals, nesting) like Scrape, and it also
permits instructors to gain insight how students understand these
constructs. We want to answer questions not just about the use of computer
science constructs, but about the competence demonstrated for different
computer science concepts. Hairball can answer questions similar to those
mentioned above and additionally can be used to answer questions such as:
\begin{itemize}
\vspace*{-.025in}
\item Which \sprogram{s} contain unmatched \broadcast{} and \receive{} blocks?
\vspace*{-.025in}
\item Which \sprogram{s} contain broadcast and receive events that result in
  infinite loops?
\vspace*{-.025in}
\item Which \sprogram{s} do not properly initialize the start state?
\vspace*{-.025in}
\item Which \sprogram{s} do not properly implement complex animations
  (requiring the application of timing, costume change, motion, and loops)?
\vspace*{-.025in}
\end{itemize}
\vspace*{0.25in}
